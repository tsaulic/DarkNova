{% extends "base.html" %}
{% block title %}
{% endblock %}
{% block content %}
    <div class='game-column'>
        {{ status }}
        {% if sector is not none %}
            <div class="row">
                <div class="column sector">Sector: <span class="sector-number">{{ sector.id }}</span></div>
            </div>
        {% endif %}
        {% if sector is not none and sector.beacon is not none and sector.beacon|length %}
            <div class="row">
                <div class="column beacon">{{ sector.beacon }}</div>
            </div>
        {% endif %}
        {% if sector is not none and port is not none %}
            <div class="row">
                <div class="column port">Port in this sector: {{ port.serialize()['type'] }}</div>
            </div>
        {% endif %}
        {% if planets|length > 0 %}
            <div class="row">
                {% for planet in planets %}
                    {% if planet.owner == none %}
                        <div class="column planet">
                            <img class="planet-unowned"
                                 src="{{ url_for('static', filename='img/planet_unowned.svg') }}">
                            <button type="button" class="button capture"
                                    onclick="window.location='/play?capture={{ planet.id }}'">
                                Capture
                            </button>
                        </div>
                    {% else %}
                        <div class="column planet">
                            <img class="planet-owned"
                                 src="{{ url_for('static', filename='img/planet_owned.svg') }}">
                            <span class="planet-name">{{ planet.name }}</span>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>
        {% endif %}
        {% if visible_players is not none %}
            <div class="row">
                <div class="column players">Other players in this sector: {{ visible_players }}</div>
            </div>
        {% endif %}
    </div>
    <div class="action-column">
        <div class="scheduler">Next update in: {{ scheduler }}</div>
        {% if sector is not none and sector.id > 0 %}
            <button type="button" class="button move" onclick="window.location='/play?move={{ sector.id - 1 }}'">
                Previous
                sector
            </button>
        {% endif %}
        {% if sector is not none %}
            <button type="button" class="button move" onclick="window.location='/play?move={{ sector.id + 1 }}'">Next
                sector
            </button>
        {% endif %}
        <div class="form navigate">
            <form action="#" method="get">
                <label>
                    <input class="label move" type="text" placeholder="0" name="move"/>
                </label>
                <input type="submit"
                       onclick="$(window.location).attr('href', '/play?move=' + $('input[name=move]').val())"
                       value="MOVE"/>
            </form>
        </div>
        <button type="button" class="button logout" onclick="window.location='/logout'">Logout</button>
    </div>
{% endblock %}